<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JKQTPlotter: Tutorial (JKQTPDatastore): Advanced 2-Dimensional Statistics with JKQTPDatastore</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="jkqtplotter_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JKQTPlotter
   </div>
   <div id="projectbrief">an extensive Qt4/Qt5 Plotter framework (including a fast variant and a LaTeX equation renderer!), written fully in C/C++ and without external dependencies</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics2_d.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Tutorial (<a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a>): Advanced 2-Dimensional Statistics with <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md53">Generating different sets of random numbers</a></li>
<li class="level1"><a href="#autotoc_md54">Marginal Statistics</a></li>
<li class="level1"><a href="#autotoc_md55">2D Histogram</a></li>
<li class="level1"><a href="#autotoc_md56">Kernel Density Estimates (KDE)</a></li>
<li class="level1"><a href="#autotoc_md57">Screenshot of the full Program</a></li>
</ul>
</div>
<div class="textblock"><p>This tutorial project (see <code>./examples/datastore_statistics_2d/</code>) explains several advanced functions of <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a> in combination with the [<a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a>] conatined in <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)This class is a QW...">JKQTPlotter</a>.</p>
<p><em><b>Note</b></em> that there are additional tutorial explaining other aspects of data mangement in <a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a>:</p><ul>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore.html">Basic Usage of JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_iterators.html">Iterator-Based usage of JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics.html">Advanced 1-Dimensional Statistics with JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_regression.html">Regression Analysis (with the Statistics Library)</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics_grouped_stat.html">1-Dimensional Group Statistics with JKQTPDatastore</a></li>
<li><a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics2_d.html">Advanced 2-Dimensional Statistics with JKQTPDatastore</a></li>
</ul>
<p>The source code of the main application can be found in <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/datastore_statistics_2d/datastore_statistics_2d.cpp"><code>datastore_statistics_2d.cpp</code></a>. This tutorial cites only parts of this code to demonstrate different ways of working with data for the graphs.</p>
<h1><a class="anchor" id="autotoc_md53"></a>
Generating different sets of random numbers</h1>
<p>The code segments below will fill different instances of <a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)This class is a QW...">JKQTPlotter</a> with different statistical plots. All these plots are based on either of two sets of random number pairs (i.e. x/y-locations) generated as shown here: </p><div class="fragment"><div class="line"><span class="keywordtype">size_t</span> randomdatacolx_small=datastore1-&gt;addColumn(<span class="stringliteral">&quot;random data, x&quot;</span>);</div><div class="line"><span class="keywordtype">size_t</span> randomdatacoly_small=datastore1-&gt;addColumn(<span class="stringliteral">&quot;random data, y&quot;</span>);</div><div class="line"><span class="keywordtype">size_t</span> randomdatacoldist_small=datastore1-&gt;addColumn(<span class="stringliteral">&quot;random data, distribution/class&quot;</span>);</div><div class="line"><span class="keywordtype">size_t</span> randomdatacolx=datastore1-&gt;addColumn(<span class="stringliteral">&quot;random data, x&quot;</span>);</div><div class="line"><span class="keywordtype">size_t</span> randomdatacoly=datastore1-&gt;addColumn(<span class="stringliteral">&quot;random data, y&quot;</span>);</div><div class="line"><span class="keywordtype">size_t</span> randomdatacoldist=datastore1-&gt;addColumn(<span class="stringliteral">&quot;random data, distribution/class&quot;</span>);</div><div class="line"><span class="comment">// random number generators:</span></div><div class="line">std::random_device rd;</div><div class="line">std::mt19937 gen{rd()};</div><div class="line">std::uniform_int_distribution&lt;&gt; ddecide(0,2);</div><div class="line">std::normal_distribution&lt;&gt; d1x{5,3};</div><div class="line">std::normal_distribution&lt;&gt; d1y{5,1};</div><div class="line">std::normal_distribution&lt;&gt; d2x{10,2};</div><div class="line">std::normal_distribution&lt;&gt; d2y{10,5};</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; <a class="code" href="namespacefontcoverage.html#aa8f0f6df10dc85e52c61d400861ec107">i</a>&lt;500; <a class="code" href="namespacefontcoverage.html#aa8f0f6df10dc85e52c61d400861ec107">i</a>++) {</div><div class="line">    <span class="keywordtype">double</span> rx=0,ry=0;</div><div class="line">    <span class="keyword">const</span> <span class="keywordtype">int</span> decide=ddecide(gen);</div><div class="line">    <span class="keywordflow">if</span> (decide==0) {</div><div class="line">        rx=d1x(gen);</div><div class="line">        ry=d1y(gen);</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        rx=d2x(gen);</div><div class="line">        ry=d2y(gen);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (i&lt;150) {</div><div class="line">        datastore1-&gt;appendToColumn(randomdatacolx_small, rx);</div><div class="line">        datastore1-&gt;appendToColumn(randomdatacoly_small, ry);</div><div class="line">        datastore1-&gt;appendToColumn(randomdatacoldist_small, std::min(1,decide));</div><div class="line">    }</div><div class="line">    datastore1-&gt;appendToColumn(randomdatacolx, rx);</div><div class="line">    datastore1-&gt;appendToColumn(randomdatacoly, ry);</div><div class="line">    datastore1-&gt;appendToColumn(randomdatacoldist, std::min(1,decide));</div><div class="line">}</div></div><!-- fragment --><p>The columns <code>randomdatacolx</code> and <code>randomdatacoly</code> will contain 500 random numbers. Each one is drawn either from the normal distributions <code>d1x</code>/<code>d1y</code>, or <code>d2x</code>/<code>d2y</code>. The decision, which of the two to use is based on the result of a third random distribution <code>ddecide</code>, which only returns 0, 1 or 2 (<code>d1x</code>/<code>d1y</code> is chosen for <code>ddecide==0</code>). The column <code>randomdatacoldist</code> finally encodes which pair of distributions was chosen. The three columns <code>randomdatacolx_small</code>, <code>randomdatacoly_small</code> and <code>randomdatacoldist_small</code> represent a subset of the first 150 numbers from the full dataset. The columns are generated empty by calling <code><a class="el" href="class_j_k_q_t_p_datastore.html#ae057eda96c7b754cd42f4380b429a589" title="add a new column to the datastore and return its ID">JKQTPDatastore::addColumn()</a></code> with only a name. Then the actual values are added by calling <code><a class="el" href="class_j_k_q_t_p_datastore.html#a3a992ac63957ce0c521e48944f704d91" title="adds a value value to the column column. This changes the column length (number of rows).">JKQTPDatastore::appendToColumn()</a></code>.</p>
<p>The datasets generated above can be plotted using a simple scatterplot (here shown for the full dataset only): </p><div class="fragment"><div class="line"><a class="code" href="class_j_k_q_t_p_x_y_parametrized_scatter_graph.html">JKQTPXYParametrizedScatterGraph</a>* gDataHist;</div><div class="line">plothist-&gt;addGraph(gDataHist=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_p_x_y_parametrized_scatter_graph.html">JKQTPXYParametrizedScatterGraph</a>(plothist));</div><div class="line">gDataHist-&gt;<a class="code" href="class_j_k_q_t_p_x_y_graph.html#a972ee50c53accadade8880b3bd1110cc">setXYColumns</a>(randomdatacolx,randomdatacoly);</div><div class="line">gDataHist-&gt;<a class="code" href="class_j_k_q_t_p_x_y_parametrized_scatter_graph.html#a59ab512d8b152551916f199ee7c008eb">setSymbolColumn</a>(randomdatacoldist);</div><div class="line">QMap&lt;double, JKQTPGraphSymbols&gt; mapped;</div><div class="line">mapped[0]=<a class="code" href="group__jkqtptools__drawing.html#gga212568ec3a08aa8d047bdd11283e2b3ea7d1d103c92b5fb6152ddf135315f3449">JKQTPGraphSymbols::JKQTPCross</a>;</div><div class="line">mapped[1]=<a class="code" href="group__jkqtptools__drawing.html#gga212568ec3a08aa8d047bdd11283e2b3eadd74965fc1b02e29ba1d9b34a99ffc9b">JKQTPGraphSymbols::JKQTPPlus</a>;</div><div class="line">gDataHist-&gt;<a class="code" href="class_j_k_q_t_p_x_y_parametrized_scatter_graph.html#af171757d60d83ebb7bb5890207591901">setMappedSymbolColumnFunctor</a>(mapped);</div><div class="line">gDataHist-&gt;<a class="code" href="class_j_k_q_t_p_graph_symbol_style_mixin.html#a7b5bdf1d3b33bcdc2ec82026e6fd55b9">setSymbolSize</a>(5);</div><div class="line">gDataHist-&gt;<a class="code" href="class_j_k_q_t_p_graph_symbol_style_mixin.html#a9622acb8fb77c6915877acc6990c31bb">setSymbolColor</a>(<a class="code" href="group__jkqtpplotter__styling.html#ga4840ec94f56ddc9df4bf5d2c3d0c15ae">QColorWithAlphaF</a>(QColor(<span class="stringliteral">&quot;red&quot;</span>), 0.7));</div><div class="line">gDataHist-&gt;<a class="code" href="class_j_k_q_t_p_x_y_line_graph.html#a1202afd954530d0c71c9a745755f7ae0">setDrawLine</a>(<span class="keyword">false</span>);</div><div class="line">gDataHist-&gt;<a class="code" href="class_j_k_q_t_p_plot_element.html#a02a8d7c24cde7768f0134cee1aa1159d">setTitle</a>(QString(<span class="stringliteral">&quot;random data, $N=&quot;</span>+QString::number(datastore1-&gt;getRows(randomdatacoldist))+<span class="stringliteral">&quot;$&quot;</span>));</div></div><!-- fragment --><p>In addition to get an idea of the used distributions, we can add two ellipses indicating the (doubled) standard deviations of the two distributions:</p>
<div class="fragment"><div class="line"><span class="comment">// 2.3. to visualize the initial distributions, we draw an ellipse indicating the</span></div><div class="line"><span class="comment">//      variance of the distributions</span></div><div class="line"><a class="code" href="class_j_k_q_t_p_geo_ellipse.html">JKQTPGeoEllipse</a>* gEll1Hist;</div><div class="line"><a class="code" href="class_j_k_q_t_p_geo_ellipse.html">JKQTPGeoEllipse</a>* gEll2Hist;</div><div class="line">plothist-&gt;addGraph(gEll1Hist=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_p_geo_ellipse.html">JKQTPGeoEllipse</a>(plothist, d1x.mean(), d1y.mean(),d1x.stddev()*2.0,d1y.stddev()*2.0));</div><div class="line">plothist-&gt;addGraph(gEll2Hist=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_p_geo_ellipse.html">JKQTPGeoEllipse</a>(plothist, d2x.mean(), d2y.mean(),d2x.stddev()*2.0,d2y.stddev()*2.0));</div></div><!-- fragment --><p>The resulting plot looks like this:</p>
<img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d_scatteronly.png" alt="datastore_statistics_2d_scatteronly" class="inline"/>
<h1><a class="anchor" id="autotoc_md54"></a>
Marginal Statistics</h1>
<p>To explore the statistical properties of a 2D dataset, it is often useful to draw the marginal histograms, i.e. the histograms of one of the two variables. To do so, we use the function <code><a class="el" href="group__jkqtptools__math__statistics__adaptors.html#ga0bccbdb2a891f83dc45e835084c5bd90" title="calculate an autoranged histogram and add a JKQTPBarVerticalGraph to the given plotter,...">jkqtpstatAddHHistogram1DAutoranged()</a></code> and <code><a class="el" href="group__jkqtptools__math__statistics__adaptors.html#ga7dca0350a8a7486ba1b01ce018d4e3db" title="calculate an autoranged histogram and add a JKQTPBarHorizontalGraph to the given plotter,...">jkqtpstatAddVHistogram1DAutoranged()</a></code> that were introduced in <a class="el" href="_j_k_q_t_plotter_basic_j_k_q_t_p_datastore_statistics.html">Advanced 1-Dimensional Statistics with JKQTPDatastore</a> and are explained in detail there:</p>
<div class="fragment"><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#ga0bccbdb2a891f83dc45e835084c5bd90">jkqtpstatAddHHistogram1DAutoranged</a>(plothistBottom-&gt;getPlotter(),  datastore1-&gt;begin(randomdatacolx), datastore1-&gt;end(randomdatacolx), 1.0, <span class="keyword">true</span>);</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#ga7dca0350a8a7486ba1b01ce018d4e3db">jkqtpstatAddVHistogram1DAutoranged</a>(plothistLeft-&gt;getPlotter(),  datastore1-&gt;begin(randomdatacoly), datastore1-&gt;end(randomdatacoly), 1.0, <span class="keyword">true</span>);</div></div><!-- fragment --><p>Note that the plots are put into <code><a class="el" href="class_j_k_q_t_plotter.html" title="plotter widget for scientific plots (uses JKQTBasePlotter to do the actual drawing)This class is a QW...">JKQTPlotter</a></code>-instances <code>plothistBottom</code> and <code>plothistLeft</code>. These are put into a global <code>QGridSizer</code> just below and left of the main histogram plot <code>plothist</code>. The axes of these plots are linked to the main plot, so zooming one affects the other plot too and their axes are inverted, so the drawn histogram elongates to the left and to the bottom (starting with 0 at the main plot <code>plothist</code>):</p>
<div class="fragment"><div class="line">QGridLayout* lay;</div><div class="line"><a class="code" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>* plothist=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>(&amp;mainWidget);</div><div class="line">lay-&gt;addWidget(plothist,0,1);</div><div class="line">plothist-&gt;<a class="code" href="class_j_k_q_t_plotter.html#ae4f1ab656cfc37b600667853a1b23686">getPlotter</a>()-&gt;<a class="code" href="class_j_k_q_t_base_plotter.html#a51e74fc47c173ac4af813e64a5f71af8">setPlotLabel</a>(<span class="stringliteral">&quot;Histograms&quot;</span>);</div><div class="line"><a class="code" href="class_j_k_q_t_p_datastore.html">JKQTPDatastore</a>* datastore1=plothist-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a98d17ba77ef46da2b7d7f24637f12842">getDatastore</a>();</div><div class="line"><a class="code" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>* plothistLeft=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>(datastore1, &amp;mainWidget);</div><div class="line">lay-&gt;addWidget(plothistLeft,0,0);</div><div class="line"><a class="code" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>* plothistBottom=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_plotter.html">JKQTPlotter</a>(datastore1, &amp;mainWidget);</div><div class="line">lay-&gt;addWidget(plothistBottom,1,1);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a16ae94f2b054e92a9184474118a1c814">synchronizeYToMaster</a>(plothist);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a48c261d683b78d962286027fb2d258c2">setAbsoluteX</a>(0,1);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a8571dee6731963903967ef91c1c632c4">getXAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#af7195679bcccfbea2d4155d7f48a90da">setInverted</a>(<span class="keyword">true</span>);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a8571dee6731963903967ef91c1c632c4">getXAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#a65945c285e8cead77c39bd914ea4b857">setShowZeroAxis</a>(<span class="keyword">false</span>);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#aa59a12b5cfb966a6847d8ca207542bd0">getYAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#a65945c285e8cead77c39bd914ea4b857">setShowZeroAxis</a>(<span class="keyword">false</span>);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#aa59a12b5cfb966a6847d8ca207542bd0">getYAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#abbb67629ef6ef4a70127492074bb5f7b">setDrawMode1</a>(<a class="code" href="group__jkqtpplottersupprt.html#gga85daee0c57d33b5ebe5536ef8121252ca5421e479680929799463584b9b56ff4b">JKQTPCADMLine</a>);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#aa59a12b5cfb966a6847d8ca207542bd0">getYAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#a4ca7a81182858c3bd85dcecfff6c4ffd">setDrawMode2</a>(<a class="code" href="group__jkqtpplottersupprt.html#gga85daee0c57d33b5ebe5536ef8121252cad14d7cc9855aab1f2cd19daca6aceea1">JKQTPCADMLineTicks</a>);</div><div class="line">plothistLeft-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a69cfb345b5f0511cd086f6d541f454c2">setGrid</a>(<span class="keyword">false</span>);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a85735d84b5876d63cb2e1f87e7d58f16">synchronizeXToMaster</a>(plothist);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#acde92b94d19a03cd7020a95965c339a5">setAbsoluteY</a>(0,1);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#aa59a12b5cfb966a6847d8ca207542bd0">getYAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#af7195679bcccfbea2d4155d7f48a90da">setInverted</a>(<span class="keyword">true</span>);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a8571dee6731963903967ef91c1c632c4">getXAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#a65945c285e8cead77c39bd914ea4b857">setShowZeroAxis</a>(<span class="keyword">false</span>);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#aa59a12b5cfb966a6847d8ca207542bd0">getYAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#a65945c285e8cead77c39bd914ea4b857">setShowZeroAxis</a>(<span class="keyword">false</span>);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a8571dee6731963903967ef91c1c632c4">getXAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#abbb67629ef6ef4a70127492074bb5f7b">setDrawMode1</a>(<a class="code" href="group__jkqtpplottersupprt.html#gga85daee0c57d33b5ebe5536ef8121252ca5421e479680929799463584b9b56ff4b">JKQTPCADMLine</a>);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a8571dee6731963903967ef91c1c632c4">getXAxis</a>()-&gt;<a class="code" href="class_j_k_q_t_p_coordinate_axis.html#a4ca7a81182858c3bd85dcecfff6c4ffd">setDrawMode2</a>(<a class="code" href="group__jkqtpplottersupprt.html#gga85daee0c57d33b5ebe5536ef8121252cad14d7cc9855aab1f2cd19daca6aceea1">JKQTPCADMLineTicks</a>);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a69cfb345b5f0511cd086f6d541f454c2">setGrid</a>(<span class="keyword">false</span>);</div><div class="line">plothistBottom-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a6fad14bc73e1281ec00a6987c73c9753">setMousePositionShown</a>(<span class="keyword">false</span>);</div></div><!-- fragment --><p>This results in a graph like this:</p>
<img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d_marginhist.png" alt="datastore_statistics_2d_marginhist" class="inline"/>
<p>With the same method, also marginal Kernel Density Estimates can be drawn:</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> bwx=<a class="code" href="group__jkqtptools__math__statistics__1dkde.html#ga6f694ee485a9939331ed0ef6fe423706">jkqtpstatEstimateKDEBandwidth</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx_small));</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#gadd39ac4e557c3184d3d64a28433f254e">jkqtpstatAddHKDE1DAutoranged</a>(plotkdeBottom-&gt;getPlotter(),  datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx_small), 0.01, &amp;<a class="code" href="group__jkqtptools__math__statistics__1dkde__kernels.html#ga68c207e16730ccb9c6ca376143da6272">jkqtpstatKernel1DGaussian</a>, bwx);</div><div class="line"><span class="keywordtype">double</span> bwy=<a class="code" href="group__jkqtptools__math__statistics__1dkde.html#ga6f694ee485a9939331ed0ef6fe423706">jkqtpstatEstimateKDEBandwidth</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly_small));</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#ga3b3ed869c0870ee1d1f033aa23b6601e">jkqtpstatAddVKDE1DAutoranged</a>(plotkdeRight-&gt;getPlotter(),  datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly_small), 0.01, &amp;<a class="code" href="group__jkqtptools__math__statistics__1dkde__kernels.html#ga68c207e16730ccb9c6ca376143da6272">jkqtpstatKernel1DGaussian</a>, bwy);</div></div><!-- fragment --><img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d_marginkde.png" alt="datastore_statistics_2d_marginkde" class="inline"/>
<h1><a class="anchor" id="autotoc_md55"></a>
2D Histogram</h1>
<p>Calculating 2D-Histograms is implemented in <code><a class="el" href="group__jkqtptools__math__statistics__2dhist.html#gad8ab0d1e867375485e2c64743e12ab44" title="calculate a 2-dimensional histogram from the given data range firstX / firstY ... lastY / lastY">jkqtpstatHistogram2D()</a></code> from the <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a>. This functions calculates a histogram on a given grid with the first bin at <code>xmin,ymin</code> and the last bin at <code>xmax,ymax</code>, containing <code>Nx,Ny</code> bins in x-/y-direction. You can use the result to fill new image column (with <code>Nx</code> columns and <code>Ny</code> rows) in a <code><a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a></code>, which can then be used to draw the histogram.</p>
<p>First we have to determine the x- and y-range of data and calculate the number of bins from these:</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> xmin=0, xmax=0;</div><div class="line"><span class="keywordtype">double</span> ymin=0, ymax=0;</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__basic.html#ga88686b7d786896c704659dc8fe4c1e7f">jkqtpstatMinMax</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx), xmin,xmax);</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__basic.html#ga88686b7d786896c704659dc8fe4c1e7f">jkqtpstatMinMax</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly), ymin,ymax);</div><div class="line"><span class="keywordtype">size_t</span> Nx=jkqtp_ceilTo&lt;size_t&gt;((xmax-xmin)/2.0);</div><div class="line"><span class="keywordtype">size_t</span> Ny=jkqtp_ceilTo&lt;size_t&gt;((ymax-ymin)/2.0);</div></div><!-- fragment --><p>Now we can add the image column </p><div class="fragment"><div class="line"><span class="keywordtype">size_t</span> histcol=datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a3ce797890c214db3794bca76ffefef8e">addImageColumn</a>(Nx, Ny, <span class="stringliteral">&quot;2d histogram&quot;</span>);</div></div><!-- fragment --><p> and calculate the histogram: </p><div class="fragment"><div class="line"><a class="code" href="group__jkqtptools__math__statistics__2dhist.html#gad8ab0d1e867375485e2c64743e12ab44">jkqtpstatHistogram2D</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly),</div><div class="line">                     datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(histcol),</div><div class="line">                     xmin, xmax, ymin, ymax,</div><div class="line">                     Nx, Ny, <span class="keyword">true</span>);</div></div><!-- fragment --><p>Finally the histogram is drawn using a <code><a class="el" href="class_j_k_q_t_p_column_math_image.html" title="class to plot an image from an 2-dimensional array of values stored in a column of the datastore">JKQTPColumnMathImage</a></code>: </p><div class="fragment"><div class="line"><a class="code" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>* gHist;</div><div class="line">plothist-&gt;<a class="code" href="class_j_k_q_t_plotter.html#a63a54c5342d664c35ffb3d532ba26b99">addGraph</a>(gHist=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>(plothist));</div><div class="line">gHist-&gt;<a class="code" href="class_j_k_q_t_p_column_math_image.html#a64d8443502002fe626cbe55799f3c198">setImageColumn</a>(static_cast&lt;int&gt;(histcol));</div><div class="line">gHist-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#a6f40e47f3d54070c6040406932b793da">setX</a>(xmin);</div><div class="line">gHist-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#acd02ce7527c76be7c9184073b76c31a6">setY</a>(ymin);</div><div class="line">gHist-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#ab7dafad9c0f645769850e6285b1d2ad6">setWidth</a>(xmax-xmin);</div><div class="line">gHist-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#a304f101a196b2b7e8a0287c39dd42355">setHeight</a>(ymax-ymin);</div><div class="line">gHist-&gt;<a class="code" href="class_j_k_q_t_p_math_image.html#a12c1ea21eed55cd34899742f15b17362">setTitle</a>(<span class="stringliteral">&quot;2D Histogram&quot;</span>);</div></div><!-- fragment --><p>The resulting image plot looks like this:</p>
<img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d_hist.png" alt="datastore_statistics_2d_hist" class="inline"/>
<p>There is also an "adaptor" which significanty reduce the amount of coude you have to type (i.e. it replaces all the code above):</p>
<div class="fragment"><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#gaac139b0d5cc63121dc3dc22250fc3e09">jkqtpstatAddHistogram2DImage</a>(plothist-&gt;<a class="code" href="class_j_k_q_t_plotter.html#ae4f1ab656cfc37b600667853a1b23686">getPlotter</a>(), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly), Nx, Ny, <span class="keyword">true</span>);</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#gadb677d27407e7a16a00b685a22524327">jkqtpstatAddHistogram2DContour</a>(plothist-&gt;<a class="code" href="class_j_k_q_t_plotter.html#ae4f1ab656cfc37b600667853a1b23686">getPlotter</a>(), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly), Nx, Ny, <span class="keyword">true</span>);</div></div><!-- fragment --><p>These differ in the type of plot that is added <code><a class="el" href="group__jkqtptools__math__statistics__adaptors.html#gaac139b0d5cc63121dc3dc22250fc3e09" title="calculate calculate a 2-dimensional histogram and add a JKQTPColumnMathImage to the given plotter,...">jkqtpstatAddHistogram2DImage()</a></code> adds an image graph (<code><a class="el" href="class_j_k_q_t_p_column_math_image.html" title="class to plot an image from an 2-dimensional array of values stored in a column of the datastore">JKQTPColumnMathImage</a></code>) and <code><a class="el" href="group__jkqtptools__math__statistics__adaptors.html#gadb677d27407e7a16a00b685a22524327" title="calculate calculate a 2-dimensional histogram and add a JKQTPColumnContourPlot to the given plotter,...">jkqtpstatAddHistogram2DContour()</a></code> adds a contour plot (<code><a class="el" href="class_j_k_q_t_p_column_contour_plot.html" title="class for a contour plots (same as JKQTPContourPlot) of images stored in a JKQTPDatastore column">JKQTPColumnContourPlot</a></code>). A contour plot may look like this:</p>
<img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d_histcontour.png" alt="datastore_statistics_2d_histcontour" class="inline"/>
<h1><a class="anchor" id="autotoc_md56"></a>
Kernel Density Estimates (KDE)</h1>
<p>Especially when only few samples from a distribution are available, histograms are not good at representing the underlying data distribution. In such cases, <a href="https://en.wikipedia.org/wiki/Multivariate_kernel_density_estimation">Kernel Density Estimates (KDE)</a> can help, which are basically a smoothed variant of a histogram. The <a class="el" href="group__jkqtptools__math__statistics.html">JKQTPlotter Statistics Library</a> supports calculating them via e.g. <code><a class="el" href="group__jkqtptools__math__statistics__2dkde.html#gabea5faa220697a680179e0460ab6a46d" title="calculate an autoranged 2-dimensional Kernel Density Estimation (KDE) from the given data range first...">jkqtpstatKDE2D()</a></code>:</p>
<p>This functions calculates a histogram on a given grid with the first bin at <code>xmin,ymin</code> and the last bin at <code>xmax,ymax</code>, containing <code>Nx,Ny</code> bins in x-/y-direction. You can use the result to fill new image column (with <code>Nx</code> columns and <code>Ny</code> rows) in a <code><a class="el" href="class_j_k_q_t_p_datastore.html" title="This class manages data columns (with entries of type double ), used by JKQTPlotter/JKQTBasePlotter t...">JKQTPDatastore</a></code>, which can then be used to draw the histogram.</p>
<p>First we have to determine the x- and y-range of data and calculate the number of bins from these:</p>
<div class="fragment"><div class="line"><span class="keywordtype">double</span> xmin=0, xmax=0;</div><div class="line"><span class="keywordtype">double</span> ymin=0, ymax=0;</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__basic.html#ga88686b7d786896c704659dc8fe4c1e7f">jkqtpstatMinMax</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx_small), xmin,xmax);</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__basic.html#ga88686b7d786896c704659dc8fe4c1e7f">jkqtpstatMinMax</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly_small), ymin,ymax);</div><div class="line">Nx=jkqtp_ceilTo&lt;size_t&gt;((xmax-xmin)/0.1);</div><div class="line">Ny=jkqtp_ceilTo&lt;size_t&gt;((ymax-ymin)/0.1);</div></div><!-- fragment --><p> We can also estimate the KDE-bandwidth for both directions now: </p><div class="fragment"><div class="line">bwx=<a class="code" href="group__jkqtptools__math__statistics__2dkde.html#gad32be3dbb22fb9a1c9af695dba13ca43">jkqtpstatEstimateKDEBandwidth2D</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx_small));</div><div class="line">bwy=<a class="code" href="group__jkqtptools__math__statistics__2dkde.html#gad32be3dbb22fb9a1c9af695dba13ca43">jkqtpstatEstimateKDEBandwidth2D</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly_small));</div></div><!-- fragment --><p>Now we can add the image column </p><div class="fragment"><div class="line"><span class="keywordtype">size_t</span> kdecol=datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a3ce797890c214db3794bca76ffefef8e">addImageColumn</a>(Nx, Ny, <span class="stringliteral">&quot;2d KDE&quot;</span>);</div></div><!-- fragment --><p> and calculate the histogram: </p><div class="fragment"><div class="line"><a class="code" href="group__jkqtptools__math__statistics__2dkde.html#gabea5faa220697a680179e0460ab6a46d">jkqtpstatKDE2D</a>(datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly_small),</div><div class="line">                     datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(kdecol),</div><div class="line">                     xmin, xmax, ymin, ymax, Nx, Ny,</div><div class="line">                     &amp;<a class="code" href="group__jkqtptools__math__statistics__2dkde__kernels.html#gaa5fd00bdfc56e269c20028ad130c37d3">jkqtpstatKernel2DGaussian</a>, bwx, bwy);</div></div><!-- fragment --><p>Finally the histogram is drawn using a <code><a class="el" href="class_j_k_q_t_p_column_math_image.html" title="class to plot an image from an 2-dimensional array of values stored in a column of the datastore">JKQTPColumnMathImage</a></code>: </p><div class="fragment"><div class="line"><a class="code" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>* gKDE;</div><div class="line">plotkde-&gt;addGraph(gKDE=<span class="keyword">new</span> <a class="code" href="class_j_k_q_t_p_column_math_image.html">JKQTPColumnMathImage</a>(plotkde));</div><div class="line">gKDE-&gt;<a class="code" href="class_j_k_q_t_p_column_math_image.html#a64d8443502002fe626cbe55799f3c198">setImageColumn</a>(static_cast&lt;int&gt;(kdecol));</div><div class="line">gKDE-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#a6f40e47f3d54070c6040406932b793da">setX</a>(xmin);</div><div class="line">gKDE-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#acd02ce7527c76be7c9184073b76c31a6">setY</a>(ymin);</div><div class="line">gKDE-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#ab7dafad9c0f645769850e6285b1d2ad6">setWidth</a>(xmax-xmin);</div><div class="line">gKDE-&gt;<a class="code" href="class_j_k_q_t_p_image_base.html#a304f101a196b2b7e8a0287c39dd42355">setHeight</a>(ymax-ymin);</div><div class="line">gKDE-&gt;<a class="code" href="class_j_k_q_t_p_math_image.html#a12c1ea21eed55cd34899742f15b17362">setTitle</a>(<span class="stringliteral">&quot;2D KDE&quot;</span>);</div></div><!-- fragment --><p>The resulting plot image looks like this:</p>
<img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d_kde.png" alt="datastore_statistics_2d_kde" class="inline"/>
<p>Note that calculating a KDE is a rather time-consuming task. The KDE in the image above took about 8s to calculate (from 150 datapairs and on a 193*267 pixel grid), whereas the corresponding histogram took only 1ms to calculate!</p>
<p>There is also an "adaptor" which significanty reduce the amount of coude you have to type (i.e. it replaces all the code above):</p>
<div class="fragment"><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#ga0a3c1418854c5d1cef5a84815f168de2">jkqtpstatAddKDE2DImage</a>(plotkde-&gt;getPlotter(), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly_small), Nx, Ny, &amp;<a class="code" href="group__jkqtptools__math__statistics__2dkde__kernels.html#gaa5fd00bdfc56e269c20028ad130c37d3">jkqtpstatKernel2DGaussian</a>, bwx, bwy);</div><div class="line"><a class="code" href="group__jkqtptools__math__statistics__adaptors.html#ga9bcb2d0a14cb755e42393e661e300d1c">jkqtpstatAddKDE2DContour</a>(plotkde-&gt;getPlotter(), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacolx_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#a6d3927a7c56a239d283e42fb6a48d6b7">begin</a>(randomdatacoly_small), datastore1-&gt;<a class="code" href="class_j_k_q_t_p_datastore.html#ab67341aad7c2de279970b5a7b5362042">end</a>(randomdatacoly_small), Nx, Ny, &amp;<a class="code" href="group__jkqtptools__math__statistics__2dkde__kernels.html#gaa5fd00bdfc56e269c20028ad130c37d3">jkqtpstatKernel2DGaussian</a>, bwx, bwy);</div></div><!-- fragment --><p>These differ in the type of plot that is added <code><a class="el" href="group__jkqtptools__math__statistics__adaptors.html#ga0a3c1418854c5d1cef5a84815f168de2" title="calculate calculate a 2-dimensional kernel density estimate (KDE) and add a JKQTPColumnMathImage to t...">jkqtpstatAddKDE2DImage()</a></code> adds an image graph (<code><a class="el" href="class_j_k_q_t_p_column_math_image.html" title="class to plot an image from an 2-dimensional array of values stored in a column of the datastore">JKQTPColumnMathImage</a></code>) and <code><a class="el" href="group__jkqtptools__math__statistics__adaptors.html#ga9bcb2d0a14cb755e42393e661e300d1c" title="calculate calculate a 2-dimensional kernel density estimate (KDE) and add a JKQTPColumnContourPlot to...">jkqtpstatAddKDE2DContour()</a></code> adds a contour plot (<code><a class="el" href="class_j_k_q_t_p_column_contour_plot.html" title="class for a contour plots (same as JKQTPContourPlot) of images stored in a JKQTPDatastore column">JKQTPColumnContourPlot</a></code>). the first is shown in the screenshot above, the latter looks like this:</p>
<img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d_kdecontour.png" alt="datastore_statistics_2d_kdecontour" class="inline"/>
<h1><a class="anchor" id="autotoc_md57"></a>
Screenshot of the full Program</h1>
<p>The output of the full test program <a href="https://github.com/jkriege2/JKQtPlotter/tree/master/examples/datastore_statistics_2d/datastore_statistics_2d.cpp"><code>datastore_statistics_2d.cpp</code></a> looks like this:</p>
<img src="https://raw.githubusercontent.com/jkriege2/JKQtPlotter/master/screenshots/datastore_statistics_2d.png" alt="datastore_statistics_2d" class="inline"/>
 </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="example_tutorial_projects.html">Example &amp; Tutorial Projects</a></li>
    <li class="footer">Generated on Sat Sep 21 2019 10:14:38 for JKQTPlotter by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
